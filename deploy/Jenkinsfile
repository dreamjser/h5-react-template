def git_branch = '*/master'
def git_url = 'https://github.com/dreamjser/h5-react-template.git'

pipeline {
  agent any
  tools {
    nodejs "node18"
  }
  stages {
    stage('checkout') {
      steps {
        checkout([$class: 'GitSCM', branches: [[name: "${git_branch}"]], extensions: [], userRemoteConfigs: [[url: "${git_url}"]]])
      }
    }

    stage('build') {
      steps {
        sh """
          /bin/bash ./deploy/build.sh
        """
      }
    }
  }
}
